(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{290:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(0),i=n.n(r),c=n(25),o=n.n(c),u=n(67),l=n.n(u),s=n(28),h=n(157),b=n(83),d=n(60),f=n(29),j=n(30),g=n(298);function O(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]);return O=function(){return e},e}function m(){var e=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n"]);return m=function(){return e},e}var v=g.a.Content,x=Object(j.b)(g.a)(m());Object(j.b)(v)(O());function p(){var e=Object(f.a)(["\n    html, \n    body,\n    #root {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n    }\n    body {\n        margin: 0px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"]);return p=function(){return e},e}var y=Object(j.a)(p()),w=n(109),C=n.n(w);var k=function(){var e=Object(r.useRef)(!1),t=Object(r.useCallback)((function(){return e.current}),[]);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t};var L=function(){var e=k();return function(t){return new Promise((function(n,a){t.then((function(t){e()&&n(t)})).catch((function(t){e()&&a(t)}))}))}};var S=function(){var e=L();return Object(r.useCallback)(function(){var t=Object(b.a)(l.a.mark((function t(n){var a,r,i,c,o,u,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(C.a.post("https://bxjc2f8yt0.execute-api.us-east-2.amazonaws.com/calculate_canny_edges",n));case 3:return a=t.sent,r=a.data,i=r.url,c=r.width,o=r.height,t.next=10,e(C.a.get(i));case 10:return u=t.sent,s=u.data.points,t.abrupt("return",{points:s,width:c,height:o});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{points:[],width:0,height:0});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),[e])};var R=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},E=n(299),I=n(110),T=n(36);var F=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),r=new Uint8Array(a),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([a],{type:n})};var U=function(e,t){var n=F(e),a=document.createElement("a");a.download=t,a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)},V=i.a.createContext(void 0);function D(){var e=Object(r.useContext)(V);if(void 0===e)throw new Error("");return e}var A=function(e){var t=e.children,n=Object(r.useState)(null),i=Object(T.a)(n,2),c=i[0],o=i[1],u=Object(r.useState)({width:0,height:0}),l=Object(T.a)(u,2),s=l[0],h=l[1],b=Object(r.useState)(null),d=Object(T.a)(b,2),f=d[0],j=d[1],g=s.width,O=s.height,m={setURI:o,setStageRef:j,uri:c,setDimensions:h,downloadImage:function(){if(f&&c&&g&&O){var e=f.clone(),t=e.find("Group").toArray()[0];e.width(g),e.height(O),t.scale({x:1,y:1}),t.x(0),t.y(0);var n=e.toDataURL({x:0,y:0,width:g,height:O,mimeType:"image/png",quality:1});U(n,"image.png")}},width:g,height:O,removeImage:function(){o(null),h({width:0,height:0})}};return Object(a.jsx)(V.Provider,{value:m,children:t})},G=n(296);function z(){var e=Object(f.a)(["\n    && {\n        color: #ffffff;\n        margin: 0px;\n        font-size: 24px;\n    }\n"]);return z=function(){return e},e}function M(){var e=Object(f.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return M=function(){return e},e}var Y=g.a.Header,P=Object(j.b)(Y)(M()),B=Object(j.b)(G.a.Title)(z()),H=function(){var e=D(),t=e.downloadImage,n=e.removeImage,r=e.uri;return Object(a.jsxs)(P,{children:[Object(a.jsx)(B,{level:1,children:"JerryWithaZ"}),Object(a.jsxs)(E.b,{size:[8,0],children:[r&&Object(a.jsx)(I.a,{type:"default",onClick:n,children:"Remove Image"}),Object(a.jsx)(I.a,{type:"primary",onClick:t,children:"Download Image"})]})]})},W=n(82),X=n(155),q=n(294),J=n(301);var Z=function(e,t,n,a){var r=Math.min(n/e,a/t);return{ratio:r,width:e*r,height:t*r}};var _=function(){var e=Object(r.useRef)(null),t=Object(r.useState)({x:0,y:0,scale:1,width:0,height:0,scaleFactor:1.25,mouse:{x:0,y:0,dragging:!1}}),n=Object(T.a)(t,2),a=n[0],i=n[1],c=Object(r.useCallback)((function(e){var t=a.mouse,n=a.x,r=a.y,c=e.clientX-t.x+n,o=e.clientY-t.y+r;e.preventDefault(),i(Object(s.a)(Object(s.a)({},a),{},{mouse:{dragging:!0,x:e.clientX,y:e.clientY},x:c,y:o}))}),[a]),o=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.scale,r=a.scaleFactor,c=n;t?c=1:e?c*=r:c>.1&&(c/=r),i(Object(s.a)(Object(s.a)({},a),{},{scale:c}))}),[a]),u=Object(r.useCallback)((function(e){i(Object(s.a)(Object(s.a)({},a),{},{mouse:{x:e.clientX,y:e.clientY,dragging:!0}}))}),[a]),l=Object(r.useCallback)((function(e){requestAnimationFrame((function(){var t=a.mouse.dragging,n=1===e.buttons;t&&n&&c(e)}))}),[c,a.mouse.dragging]),h=Object(r.useCallback)((function(e){i(Object(s.a)(Object(s.a)({},a),{},{mouse:{x:0,y:0,dragging:!1}}))}),[a]),b=Object(r.useCallback)((function(t){requestAnimationFrame((function(){if(e.current&&e.current.parentElement){var n=a.scale,r=a.x,c=a.y,o=a.scaleFactor,u=t.pageX-e.current.parentElement.offsetLeft,l=t.pageY-e.current.parentElement.offsetTop,h={x:u/n-r/n,y:l/n-c/n},b=t.deltaY>0?n*o:n/o,d={x:-(h.x-u/b)*b,y:-(h.y-l/b)*b};i(Object(s.a)(Object(s.a)({},a),{},{x:d.x,y:d.y,scale:b}))}}))}),[a]),d=Object(r.useCallback)((function(){e.current&&(e.current.addEventListener("wheel",b),e.current.addEventListener("mousedown",u),e.current.addEventListener("mousemove",l),e.current.addEventListener("mouseup",h))}),[u,l,h,b]),f=Object(r.useCallback)((function(){e.current&&(e.current.removeEventListener("wheel",b),e.current.removeEventListener("mousedown",u),e.current.removeEventListener("mousemove",l),e.current.removeEventListener("mouseup",h))}),[u,l,h,b]),j=Object(r.useCallback)((function(t){t&&(e.current=t,d())}),[d]);return Object(r.useEffect)((function(){return function(){f()}}),[f]),Object(s.a)({setZoomRef:j,zoom:o,pan:c,fitToContainer:function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(e.current){var u=void 0!==c?c:e.current.clientWidth,l=void 0!==o?o:e.current.clientHeight,h=Z(u,l,t,n),b=h.width,d=h.height,f=b/u,j=f>1?1:f,g=f>1?u:b,O=f>1?l:d,m=r?(t-g)/2:0,v=r?(n-O)/2:0;i(Object(s.a)(Object(s.a)({},a),{},{scale:j,width:g,height:O,x:m,y:v}))}}},a)};function N(){var e=Object(f.a)(["\n    width: 100%;\n    flex: 1;\n"]);return N=function(){return e},e}var K=j.b.div(N()),Q=function(e){var t=e.children,n=e.width,i=e.height,c=Object(r.useState)(0),o=Object(T.a)(c,2),u=o[0],l=o[1],s=Object(r.useState)(0),h=Object(T.a)(s,2),b=h[0],f=h[1],j=D().setStageRef,g=_(),O=g.scale,m=g.x,v=g.y,x=g.setZoomRef,p=Object(r.useCallback)((function(e){e&&(l(e.clientWidth),f(e.clientHeight),x(e))}),[x]);return Object(a.jsx)(K,{ref:p,children:Object(a.jsx)(d.e,{height:b,width:u,ref:j,children:Object(a.jsx)(d.b,{children:Object(a.jsxs)(d.a,{height:i*O,width:n*O,scale:{x:O,y:O},x:m,y:v,children:[Object(a.jsx)(d.d,{x:0,y:0,width:n,height:i,fillLinearGradientStartPoint:{x:0,y:i/2},fillLinearGradientEndPoint:{x:n,y:i/2},fillLinearGradientColorStops:[0,"#1D2951",1,"#000000"]}),t]})})})})};function $(){var e=Object(f.a)(["\n    padding: 32px;\n"]);return $=function(){return e},e}function ee(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    position: relative;\n"]);return ee=function(){return e},e}function te(){var e=Object(f.a)(["\n    height: 100%;\n"]);return te=function(){return e},e}var ne=Object(j.b)(g.a)(te()),ae=Object(j.b)(g.a.Content)(ee()),re=j.b.div($());function ie(){var e=Object(f.a)(["\n    padding: 32px 32px;\n"]);return ie=function(){return e},e}var ce=g.a.Sider,oe=Object(j.b)(ce)(ie()),ue=n(295),le=n(300);function se(){var e=Object(f.a)(["\n    display: flex;\n    align-items: center;\n"]);return se=function(){return e},e}var he=j.b.div(se()),be=function(e){var t=e.initialValue,n=e.value,r=e.onChange,i=e.name;return Object(a.jsx)(he,{as:ue.a.Item,label:i,children:Object(a.jsx)(le.a,{defaultChecked:t,checked:n,onChange:r})})},de=n(93),fe=n.n(de),je=n(297),ge=function(e){var t=e.name,n=e.initialValue,i=e.onChange,c=e.min,o=e.max,u=Object(r.useState)(n),l=Object(T.a)(u,2),s=l[0],h=l[1];return Object(a.jsx)(ue.a.Item,{label:"".concat(t," (").concat(s,"/").concat(o,")"),labelCol:{span:24},children:Object(a.jsx)(je.a,{defaultValue:n,value:s,onChange:h,onAfterChange:fe()(i,500),min:c,max:o})})},Oe=function(e){var t=e.tools,n=e.onToolChange,r=e.values;return Object(a.jsx)(oe,{width:300,theme:"light",children:t.map((function(e){return"toggle"===e.type?Object(a.jsx)(be,{initialValue:e.initialValue,onChange:function(t){return n(e.key,t)},value:r[e.key],name:e.name},e.key):"range"===e.type?Object(a.jsx)(ge,{initialValue:e.initialValue,onChange:function(t){return n(e.key,t)},value:r[e.key],name:e.name,max:e.max,min:e.min},e.key):null}))})},me=n(293);function ve(){var e=Object(f.a)(["\n    position: absolute;\n    z-index: 2;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    background: #f0f2f5;\n"]);return ve=function(){return e},e}var xe=j.b.div(ve()),pe=function(){return Object(a.jsxs)(xe,{children:[Object(a.jsx)(me.a,{size:"large"}),Object(a.jsx)(G.a.Text,{children:"Generating your image.."})]})};var ye=function(e){var t=e.tools,n=e.createImage,i=D(),c=i.setURI,o=i.setDimensions,u=i.width,l=i.height,h=i.uri,b=Object(r.useState)(!1),d=Object(T.a)(b,2),f=d[0],j=d[1],g=Object(r.useState)({}),O=Object(T.a)(g,2),m=O[0],v=O[1],x=Object(r.useState)(null),p=Object(T.a)(x,2),y=p[0],w=p[1],C=Object(r.useCallback)((function(e,t){v(Object(s.a)(Object(s.a)({},m),{},Object(W.a)({},e,t)))}),[m]),k=Object(r.useCallback)((function(e){j(!0),n(Object(s.a)(Object(s.a)({},m),{},{url:e})).then((function(e){var t=e.width,n=e.height,a=e.image;o({width:t,height:n}),w(a),j(!1)})).catch((function(){X.b.error("There was an error creating your image"),j(!1)}))}),[n,o,m]);return Object(r.useEffect)((function(){h&&k(h)}),[h,m,k]),Object(a.jsxs)(ne,{children:[Object(a.jsx)(Oe,{tools:t,onToolChange:C,values:m}),Object(a.jsxs)(ae,{children:[h?Object(a.jsx)(Q,{width:u,height:l,children:y}):Object(a.jsx)(re,{children:Object(a.jsx)(q.a,{accept:"image/*",onChange:function(e){e.file.originFileObj instanceof File?function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}(e.file.originFileObj,(function(e){"string"===typeof e?c(e):X.b.error("You can only upload images.")})):X.b.error("You can only upload images.")},children:Object(a.jsx)(I.a,{icon:Object(a.jsx)(J.a,{}),children:"Click to Upload an Image"})})}),f&&Object(a.jsx)(pe,{})]})]})};var we=function(){var e=S(),t=Object(r.useCallback)(function(){var t=Object(b.a)(l.a.mark((function t(n){var r,i,c,o,u,b,f,j,g,O,m,v,x;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.url,i=Object(h.a)(n,["url"]),t.next=3,e(Object(s.a)({url:r,minThreshold:50,maxThreshold:100,useL2Gradient:!0,useRigidLines:!0},i));case 3:for(c=t.sent,o=c.points,u=c.width,b=c.height,f=[],j=0;j<o.length;++j)g=o[j],O=R(0,255),m=R(0,255),v=R(0,255),x="rgb(".concat(O,", ").concat(m,", ").concat(v,")"),f.push(Object(a.jsx)(d.c,{points:g,stroke:x,strokeWidth:2},j));return t.abrupt("return",{width:u,height:b,image:f});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(a.jsxs)(x,{children:[Object(a.jsx)(y,{}),Object(a.jsx)(H,{}),Object(a.jsx)(ye,{tools:[{name:"Min Threshold",type:"range",key:"minThreshold",initialValue:50,min:0,max:100},{name:"Max Threshold",type:"range",key:"maxThreshold",initialValue:100,min:0,max:200},{name:"Use L2 Gradient",type:"toggle",key:"useL2Gradient",initialValue:!0},{name:"Use Rigid Lines",type:"toggle",key:"useRigidLines",initialValue:!0}],createImage:t})]})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,302)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(289);o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(A,{children:Object(a.jsx)(we,{})})}),document.getElementById("root")),Ce()}},[[290,1,2]]]);
//# sourceMappingURL=main.94e94262.chunk.js.map