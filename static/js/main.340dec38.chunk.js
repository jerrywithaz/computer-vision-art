(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{182:function(e,t,n){"use strict";n.r(t);var r=n(11),c=n(0),a=n.n(c),i=n(19),o=n.n(i),u=n(39),s=n(51),l=n(184),h=n(36),d=n(37);function b(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]);return b=function(){return e},e}function j(){var e=Object(h.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n"]);return j=function(){return e},e}var f=l.a.Content,O=Object(d.b)(l.a)(j()),g=Object(d.b)(f)(b()),v=n(32);var m=function(e,t,n,r){var c=Math.min(n/e,r/t);return{ratio:c,width:e*c,height:t*c}};var x=function(){var e=Object(c.useRef)(null),t=Object(c.useState)({x:0,y:0,scale:1,width:0,height:0,scaleFactor:1.25,mouse:{x:0,y:0,dragging:!1}}),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(c.useCallback)((function(e){var t=r.mouse,n=r.x,c=r.y,i=e.clientX-t.x+n,o=e.clientY-t.y+c;e.preventDefault(),a(Object(v.a)(Object(v.a)({},r),{},{mouse:{dragging:!0,x:e.clientX,y:e.clientY},x:i,y:o}))}),[r]),o=Object(c.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.scale,c=r.scaleFactor,i=n;t?i=1:e?i*=c:i>.1&&(i/=c),a(Object(v.a)(Object(v.a)({},r),{},{scale:i}))}),[r]),s=Object(c.useCallback)((function(e){a(Object(v.a)(Object(v.a)({},r),{},{mouse:{x:e.clientX,y:e.clientY,dragging:!0}}))}),[r]),l=Object(c.useCallback)((function(e){requestAnimationFrame((function(){var t=r.mouse.dragging,n=1===e.buttons;t&&n&&i(e)}))}),[i,r.mouse.dragging]),h=Object(c.useCallback)((function(e){a(Object(v.a)(Object(v.a)({},r),{},{mouse:{x:0,y:0,dragging:!1}}))}),[r]),d=Object(c.useCallback)((function(t){requestAnimationFrame((function(){if(e.current&&e.current.parentElement){var n=r.scale,c=r.x,i=r.y,o=r.scaleFactor,u=t.pageX-e.current.parentElement.offsetLeft,s=t.pageY-e.current.parentElement.offsetTop,l={x:u/n-c/n,y:s/n-i/n},h=t.deltaY>0?n*o:n/o,d={x:-(l.x-u/h)*h,y:-(l.y-s/h)*h};a(Object(v.a)(Object(v.a)({},r),{},{x:d.x,y:d.y,scale:h}))}}))}),[r]),b=Object(c.useCallback)((function(){e.current&&(e.current.addEventListener("wheel",d),e.current.addEventListener("mousedown",s),e.current.addEventListener("mousemove",l),e.current.addEventListener("mouseup",h))}),[s,l,h,d]),j=Object(c.useCallback)((function(){e.current&&(e.current.removeEventListener("wheel",d),e.current.removeEventListener("mousedown",s),e.current.removeEventListener("mousemove",l),e.current.removeEventListener("mouseup",h))}),[s,l,h,d]),f=Object(c.useCallback)((function(t){t&&(e.current=t,b())}),[b]);return Object(c.useEffect)((function(){return function(){j()}}),[j]),Object(v.a)({setZoomRef:f,zoom:o,pan:i,fitToContainer:function(t,n){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(e.current){var u=void 0!==i?i:e.current.clientWidth,s=void 0!==o?o:e.current.clientHeight,l=m(u,s,t,n),h=l.width,d=l.height,b=h/u,j=b>1?1:b,f=b>1?u:h,O=b>1?s:d,g=c?(t-f)/2:0,x=c?(n-O)/2:0;a(Object(v.a)(Object(v.a)({},r),{},{scale:j,width:f,height:O,x:g,y:x}))}}},r)};var p=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),c=new Uint8Array(r),a=0;a<t.length;a++)c[a]=t.charCodeAt(a);return new Blob([r],{type:n})};var y=function(e,t){var n=p(e),r=document.createElement("a");r.download=t,r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)},w=a.a.createContext(void 0);function C(){var e=Object(c.useContext)(w);if(void 0===e)throw new Error("");return e}var k=function(e){var t=e.children,n=Object(c.useState)(null),a=Object(u.a)(n,2),i=a[0],o=a[1],s=Object(c.useState)({width:0,height:0}),l=Object(u.a)(s,2),h=l[0],d=l[1],b=Object(c.useState)(null),j=Object(u.a)(b,2),f=j[0],O=j[1],g=h.width,v=h.height,m={setURI:o,setStageRef:O,uri:i,setDimensions:d,downloadImage:function(){if(f&&i&&g&&v){var e=f.clone(),t=e.find("Group").toArray()[0];e.width(g),e.height(v),t.scale({x:1,y:1}),t.x(0),t.y(0);var n=e.toDataURL({x:0,y:0,width:g,height:v,mimeType:"image/png",quality:1});y(n,"image.png")}},width:g,height:v};return Object(r.jsx)(w.Provider,{value:m,children:t})};function L(){var e=Object(h.a)(["\n    width: 100%;\n    flex: 1;\n"]);return L=function(){return e},e}var S=d.b.div(L()),R=function(e){var t=e.children,n=e.width,a=e.height,i=Object(c.useState)(0),o=Object(u.a)(i,2),l=o[0],h=o[1],d=Object(c.useState)(0),b=Object(u.a)(d,2),j=b[0],f=b[1],O=C().setStageRef,g=x(),v=g.scale,m=g.x,p=g.y,y=g.setZoomRef,w=Object(c.useCallback)((function(e){e&&(h(e.clientWidth),f(e.clientHeight),y(e))}),[y]);return Object(r.jsx)(S,{ref:w,children:Object(r.jsx)(s.e,{height:j,width:l,ref:O,children:Object(r.jsx)(s.b,{children:Object(r.jsxs)(s.a,{height:a*v,width:n*v,scale:{x:v,y:v},x:m,y:p,children:[Object(r.jsx)(s.d,{x:0,y:0,width:n,height:a,fillLinearGradientStartPoint:{x:0,y:a/2},fillLinearGradientEndPoint:{x:n,y:a/2},fillLinearGradientColorStops:[0,"#1D2951",1,"#000000"]}),t]})})})})};function E(){var e=Object(h.a)(["\n    html, \n    body,\n    #root {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n    }\n    body {\n        margin: 0px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n"]);return E=function(){return e},e}var F=Object(d.a)(E()),I=n(83),U=n.n(I),D=n(109),T=n(84),A=n.n(T);var M=function(){var e=Object(c.useRef)(!1),t=Object(c.useCallback)((function(){return e.current}),[]);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t};var P=function(){var e=M();return function(t){return new Promise((function(n,r){t.then((function(t){e()&&n(t)})).catch((function(t){e()&&r(t)}))}))}};var B=function(){var e=P();return Object(c.useCallback)(function(){var t=Object(D.a)(U.a.mark((function t(n){var r,c,a,i,o,u,s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(A.a.post("https://bxjc2f8yt0.execute-api.us-east-2.amazonaws.com/calculate_canny_edges",n));case 3:return r=t.sent,c=r.data,a=c.url,i=c.width,o=c.height,t.next=10,e(A.a.get(a));case 10:return u=t.sent,s=u.data.points,t.abrupt("return",{points:s,width:i,height:o});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{points:[],width:0,height:0});case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),[e])};var G=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Y=n(187);function H(){var e=Object(h.a)([""]);return H=function(){return e},e}var W=l.a.Sider,X=Object(d.b)(W)(H()),q=Y.a.SubMenu,z=function(){return Object(r.jsx)(X,{width:200,theme:"light",children:Object(r.jsx)(Y.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{borderRight:0},children:Object(r.jsxs)(q,{title:"My Images",children:[Object(r.jsx)(Y.a.Item,{children:"option1"},"1"),Object(r.jsx)(Y.a.Item,{children:"option2"},"2"),Object(r.jsx)(Y.a.Item,{children:"option3"},"3"),Object(r.jsx)(Y.a.Item,{children:"option4"},"4")]},"sub1")})})},J=n(186),Z=n(185);function K(){var e=Object(h.a)(["\n    && {\n        color: #ffffff;\n        margin: 0px;\n    }\n"]);return K=function(){return e},e}function N(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return N=function(){return e},e}var _=l.a.Header,Q=Object(d.b)(_)(N()),V=Object(d.b)(Z.a.Title)(K()),$=function(){var e=C().downloadImage;return Object(r.jsxs)(Q,{children:[Object(r.jsx)(V,{level:1,children:"JerryWithaZ"}),Object(r.jsx)(J.a,{type:"primary",onClick:e,children:"Download Image"})]})};var ee=function(){var e=B(),t=Object(c.useState)([]),n=Object(u.a)(t,2),a=n[0],i=n[1],o=C(),h=o.setURI,d=o.setDimensions,b=o.width,j=o.height,f=o.uri;return Object(r.jsxs)(O,{children:[Object(r.jsx)(F,{}),Object(r.jsx)($,{}),Object(r.jsxs)(l.a,{children:[Object(r.jsx)(z,{}),Object(r.jsx)(l.a,{children:Object(r.jsxs)(g,{className:"site-layout-background",children:[!f&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Upload file"}),Object(r.jsx)("input",{type:"file",onChange:function(t){var n=t.target.files;if(n){var c=new FileReader,a=n[0];c.onload=function(t){var n,c=null===(n=t.target)||void 0===n?void 0:n.result;h(c),e({url:c,minThreshold:20,maxThreshold:50,useL2Gradient:!0,useRigidLines:!0}).then((function(e){for(var t=e.points,n=e.width,c=e.height,a=[],o=0;o<t.length;++o){var u=t[o],l=G(0,255),h=G(0,255),b=G(0,255),j="rgb(".concat(l,", ").concat(h,", ").concat(b,")");a.push(Object(r.jsx)(s.c,{points:u,stroke:j,strokeWidth:2},o))}i(a),d({width:n,height:c})}))},c.readAsDataURL(a)}},name:"image",accept:"image/*"})]}),Object(r.jsx)(R,{width:b,height:j,children:a})]})})]})]})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,188)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};n(181);o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(k,{children:Object(r.jsx)(ee,{})})}),document.getElementById("root")),te()}},[[182,1,2]]]);
//# sourceMappingURL=main.340dec38.chunk.js.map