{"version":3,"sources":["App.styled.tsx","components/GlobalStyles/GlobalStyles.tsx","hooks/useIsMounted/useIsMounted.ts","hooks/usePromise/usePromise.ts","hooks/useCannyEdges/useCannyEdges.ts","utils/randomInteger/randomInteger.ts","utils/dataURItoBlob/dataURItoBlob.ts","utils/downloadURI/downloadURI.ts","providers/ImageProvider/ImageProvider.tsx","features/Header/Header.styled.ts","features/Header/Header.tsx","utils/calculateAspectRatioFit/calculateAspectRatioFit.ts","hooks/useZoomAndPan/useZoomAndPan.tsx","components/Canvas/Canvas.styled.ts","components/Canvas/Canvas.tsx","components/OpenCVPlayground/OpenCVPlayground.styled.ts","components/OpenCVPlayground/Sidebar/Sidebar.styled.ts","components/OpenCVPlayground/Toggle/Toggle.styled.ts","components/OpenCVPlayground/Toggle/Toggle.tsx","components/OpenCVPlayground/Range/Range.tsx","components/OpenCVPlayground/Sidebar/Sidebar.tsx","components/OpenCVPlayground/Spinner/Spinner.styled.ts","components/OpenCVPlayground/Spinner/Spinner.tsx","components/OpenCVPlayground/OpenCVPlayground.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Content","Layout","AppContainer","styled","GlobalStyles","createGlobalStyle","useIsMounted","isMounted","useRef","checker","useCallback","current","useEffect","usePromise","promise","Promise","resolve","reject","then","result","catch","error","useCannyEdges","safePromise","body","a","axios","post","data","url","width","height","get","points","randomInteger","min","max","Math","floor","random","dataURItoBlob","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","type","downloadURI","uri","name","blob","link","document","createElement","download","href","URL","createObjectURL","appendChild","click","removeChild","revokeObjectURL","ImageProviderContext","React","createContext","undefined","useImageProvider","context","useContext","Error","ImageProvider","children","useState","setURI","dimensions","setDimensions","stageRef","setStageRef","value","downloadImage","stageRefClone","clone","containerGroup","find","toArray","scale","x","y","toDataURL","mimeType","quality","removeImage","Provider","Header","HeaderContainer","HeaderLogo","Typography","Title","level","size","onClick","calculateAspectRatioFit","srcWidth","srcHeight","maxWidth","maxHeight","ratio","useZoomAndPan","ref","scaleFactor","mouse","dragging","state","setState","pan","e","offsetX","clientX","offsetY","clientY","preventDefault","zoom","zoomIn","reset","newScale","onMouseDown","onMouseMove","requestAnimationFrame","mouseIsMoving","wasLeftClick","buttons","onMouseUp","onMouseWheel","parentElement","mouseX","pageX","offsetLeft","mouseY","pageY","offsetTop","mousePointTo","deltaY","newPosition","addEventListeners","addEventListener","removeEventListeners","removeEventListener","setZoomRef","el","fitToContainer","containerWidth","containerHeight","alignCenter","referenceWidth","referenceHeight","refWidth","clientWidth","refHeight","clientHeight","newWidth","newHeight","newX","newY","CanvasContainer","div","Canvas","setContainerWidth","setContainerHeight","handleRef","fillLinearGradientStartPoint","fillLinearGradientEndPoint","fillLinearGradientColorStops","OpenCVPlaygroundWrapper","OpenCVPlaygroundContent","OpenCVPlaygroundUpload","Sider","SidebarContainer","ToggleContainer","Toggle","initialValue","onChange","as","Form","Item","label","defaultChecked","checked","Range","internalValue","setInternalValue","labelCol","span","defaultValue","onAfterChange","debounce","Sidebar","tools","onToolChange","values","theme","map","tool","key","SpinnerContainer","Spinner","Text","OpenCVPlayground","createImage","loading","setLoading","toolState","setToolState","components","setComponents","handleToolChange","updateImage","image","message","accept","info","file","originFileObj","File","img","callback","reader","FileReader","readAsDataURL","getBase64","icon","UploadOutlined","App","getCannyEdges","rest","minThreshold","maxThreshold","useL2Gradient","useRigidLines","lines","temp_components","red","green","blue","stroke","push","strokeWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.94e94262.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { Layout } from 'antd';\n\nconst { Content } = Layout;\n\nexport const AppContainer = styled(Layout)`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n`;\n\nexport const AppContent = styled(Content)`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n`;","import { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyles = createGlobalStyle`\n    html, \n    body,\n    #root {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n    }\n    body {\n        margin: 0px;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n`;\n\nexport default GlobalStyles;\n","import { useCallback, useEffect, useRef } from \"react\";\n\nfunction useIsMounted(): () => boolean {\n  const isMounted = useRef(false);\n\n  const checker = useCallback((): boolean => {\n    return isMounted.current;\n  }, []);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return function cleanup() {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return checker;\n}\n\nexport default useIsMounted;\n","import useIsMounted from \"../useIsMounted\";\n\n/** Creates a safe promise that will only resolve or reject if the component is still mounted */\nfunction usePromise(): <Result extends any = any>(\n  promise: Promise<Result>\n) => Promise<Result> {\n  const isMounted = useIsMounted();\n\n  function creator<Result extends any = any>(promise: Promise<Result>) {\n    return new Promise<Result>((resolve, reject) => {\n      promise\n        .then((result) => {\n          if (isMounted()) {\n            resolve(result);\n          }\n        })\n        .catch((error) => {\n          if (isMounted()) {\n            reject(error);\n          }\n        });\n    });\n  }\n\n  return creator;\n}\n\nexport default usePromise;\n","import { useCallback } from \"react\";\nimport axios from \"axios\";\nimport usePromise from \"../usePromise\";\n\nconst api_url =\n  \"https://bxjc2f8yt0.execute-api.us-east-2.amazonaws.com/calculate_canny_edges\";\n\ntype CannyEdgeApiArgs = {\n  url: string;\n  minThreshold: number;\n  maxThreshold: number;\n  useL2Gradient: boolean;\n  useRigidLines: boolean;\n};\n\ntype CannyEdgeApiResponse = {\n  url: string;\n  width: number;\n  height: number;\n};\n\ntype CannyEdgeApiJSON = {\n  points: number[][];\n};\n\nfunction useCannyEdges() {\n  const safePromise = usePromise();\n  \n  const getCannyEdges = useCallback(\n    async (body: CannyEdgeApiArgs) => {\n      try {\n        const { data: { url, width, height  } } = await safePromise(\n          axios.post<CannyEdgeApiResponse>(api_url, body)\n        );\n        const { data: { points } } = await safePromise(\n          axios.get<CannyEdgeApiJSON>(url)\n        );\n        return { points, width, height  };\n      } catch (error) {\n        return { points: [], width: 0, height: 0 };\n      }\n    },\n    [safePromise]\n  );\n\n  return getCannyEdges;\n}\n\nexport default useCannyEdges;\n","function randomInteger(min: number, max: number): number {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport default randomInteger;","function dataURItoBlob(dataURI: string) {\n    // convert base64 to raw binary data held in a string\n    // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n    var byteString = atob(dataURI.split(',')[1]);\n  \n    // separate out the mime component\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n  \n    // write the bytes of the string to an ArrayBuffer\n    var ab = new ArrayBuffer(byteString.length);\n  \n    // create a view into the buffer\n    var ia = new Uint8Array(ab);\n  \n    // set the bytes of the buffer to the correct values\n    for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n  \n    return new Blob([ab], {type: mimeString});\n  \n  }\n\n  export default dataURItoBlob;","import dataURItoBlob from \"./../dataURItoBlob\";\n\nfunction downloadURI(uri: string, name: string) {\n\n    const blob = dataURItoBlob(uri);\n    const link = document.createElement('a');\n\n    link.download = name;\n    link.href = URL.createObjectURL(blob);\n\n    document.body.appendChild(link);\n\n    link.click();\n\n    document.body.removeChild(link);\n\n    URL.revokeObjectURL(link.href);\n\n};\n\nexport default downloadURI;","import React, { FunctionComponent, useContext, useState } from 'react';\nimport downloadURI from '../../utils/downloadURI';\n\ntype Dimension = {\n    width: number;\n    height: number;\n};\n\ntype ImageProviderContextProps = {\n    downloadImage: VoidFunction;\n    setURI: (uri: string) => void;\n    setDimensions: (dimensions: Dimension) => void;\n    setStageRef: (ref: any) => void;\n    uri: string | null;\n    width: number;\n    height: number;\n    removeImage: VoidFunction;\n};\n\nconst ImageProviderContext = React.createContext<ImageProviderContextProps | undefined>(undefined);\n\nconst ImageProvider: FunctionComponent = ({ children }) => {\n    const [uri, setURI] = useState<string | null>(null);\n    const [dimensions, setDimensions] = useState<Dimension>({ width: 0, height: 0 });\n    const [stageRef, setStageRef] = useState<any>(null);\n    const { width, height } = dimensions;\n    \n    const removeImage = () => {\n        setURI(null);\n        setDimensions({ width: 0, height: 0 });\n    }\n\n    const downloadImage = () => {\n        if (stageRef && uri && width && height) {\n    \n            const stageRefClone = stageRef.clone();\n            const containerGroup = stageRefClone.find(\"Group\").toArray()[0];\n                        \n            stageRefClone.width(width);\n            stageRefClone.height(height);\n    \n            containerGroup.scale({x: 1, y: 1});\n            containerGroup.x(0);\n            containerGroup.y(0);\n    \n            const uri = stageRefClone.toDataURL({\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                mimeType: \"image/png\",\n                quality: 1\n            });\n            \n            downloadURI(uri, \"image.png\");\n    \n        }\n      }\n\n    const value = {\n        setURI,\n        setStageRef,\n        uri,\n        setDimensions,\n        downloadImage,\n        width,\n        height,\n        removeImage,\n    };\n\n    return (\n        <ImageProviderContext.Provider value={value}>\n            {children}\n        </ImageProviderContext.Provider>\n    );\n}\n\nexport function useImageProvider(): ImageProviderContextProps {\n    const context = useContext(ImageProviderContext);\n\n    if (context === undefined) {\n        throw new Error('');\n    }\n\n    return context;\n}\n\nexport default ImageProvider;","import { Layout, Typography } from \"antd\";\nimport styled from 'styled-components';\n\nconst { Header } = Layout;\n\nexport const HeaderContainer = styled(Header)`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nexport const HeaderLogo = styled(Typography.Title)`\n    && {\n        color: #ffffff;\n        margin: 0px;\n        font-size: 24px;\n    }\n`;","import React from \"react\";\nimport { Button, Space } from \"antd\";\nimport { useImageProvider } from \"../../providers/ImageProvider\";\nimport { HeaderContainer, HeaderLogo } from \"./Header.styled\";\n\nconst Header = () => {\n  const { downloadImage, removeImage, uri } = useImageProvider();\n\n  return (\n    <HeaderContainer>\n      <HeaderLogo level={1}>JerryWithaZ</HeaderLogo>\n      <Space size={[8, 0]}>\n        {uri && (\n          <Button type=\"default\" onClick={removeImage}>\n            Remove Image\n          </Button>\n        )}\n        <Button type=\"primary\" onClick={downloadImage}>\n          Download Image\n        </Button>\n      </Space>\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","\nfunction calculateAspectRatioFit(srcWidth: number, srcHeight: number, maxWidth: number, maxHeight: number) {\n\n    var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n  \n    return { \n        ratio: ratio,\n        width: srcWidth*ratio, \n        height: srcHeight*ratio \n    };\n  \n}\n\nexport default calculateAspectRatioFit;","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport calculateAspectRatioFit from \"../../utils/calculateAspectRatioFit\";\n\nfunction useZoomAndPan() {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const [state, setState] = useState({\n    x: 0,\n    y: 0,\n    scale: 1,\n    width: 0,\n    height: 0,\n    scaleFactor: 1.25,\n    mouse: {\n      x: 0,\n      y: 0,\n      dragging: false,\n    },\n  });\n\n  const fitToContainer = (\n    containerWidth: number,\n    containerHeight: number,\n    alignCenter: boolean = true,\n    referenceWidth?: number,\n    referenceHeight?: number\n  ) => {\n    if (ref.current) {\n      const refWidth =\n        referenceWidth !== undefined ? referenceWidth : ref.current.clientWidth;\n      const refHeight =\n        referenceHeight !== undefined\n          ? referenceHeight\n          : ref.current.clientHeight;\n\n      const { width, height } = calculateAspectRatioFit(\n        refWidth,\n        refHeight,\n        containerWidth,\n        containerHeight\n      );\n\n      const scale = width / refWidth;\n      const newScale = scale > 1 ? 1 : scale;\n      const newWidth = scale > 1 ? refWidth : width;\n      const newHeight = scale > 1 ? refHeight : height;\n      const newX = alignCenter ? (containerWidth - newWidth) / 2 : 0;\n      const newY = alignCenter ? (containerHeight - newHeight) / 2 : 0;\n\n      setState({\n        ...state,\n        scale: newScale,\n        width: newWidth,\n        height: newHeight,\n        x: newX,\n        y: newY,\n      });\n    }\n  };\n\n  const pan = useCallback(\n    (e: MouseEvent) => {\n      const { mouse, x, y } = state;\n      const offsetX = e.clientX - mouse.x + x;\n      const offsetY = e.clientY - mouse.y + y;\n\n      e.preventDefault();\n\n      setState({\n        ...state,\n        mouse: {\n          dragging: true,\n          x: e.clientX,\n          y: e.clientY,\n        },\n        x: offsetX,\n        y: offsetY,\n      });\n    },\n    [state]\n  );\n\n  const zoom = useCallback(\n    (zoomIn: boolean, reset: boolean = false) => {\n      const { scale, scaleFactor } = state;\n\n      let newScale = scale;\n\n      if (reset) {\n        newScale = 1;\n      } else {\n        if (zoomIn) {\n          newScale *= scaleFactor;\n        } else if (newScale > 0.1) {\n          newScale /= scaleFactor;\n        }\n      }\n\n      setState({\n        ...state,\n        scale: newScale,\n      });\n    },\n    [state]\n  );\n\n  const onMouseDown = useCallback(\n    (e: MouseEvent) => {\n      setState({\n        ...state,\n        mouse: {\n          x: e.clientX,\n          y: e.clientY,\n          dragging: true,\n        },\n      });\n    },\n    [state]\n  );\n\n  const onMouseMove = useCallback(\n    (e: MouseEvent) => {\n      requestAnimationFrame(() => {\n        const mouseIsMoving = state.mouse.dragging;\n        const wasLeftClick = e.buttons === 1;\n        if (mouseIsMoving && wasLeftClick) {\n          pan(e);\n        }\n      });\n    },\n    [pan, state.mouse.dragging]\n  );\n\n  const onMouseUp = useCallback(\n    (e: MouseEvent) => {\n      setState({\n        ...state,\n        mouse: {\n          x: 0,\n          y: 0,\n          dragging: false,\n        },\n      });\n    },\n    [state]\n  );\n\n  const onMouseWheel = useCallback(\n    (e: WheelEvent) => {\n      requestAnimationFrame(() => {\n        if (ref.current && ref.current.parentElement) {\n          const { scale, x, y, scaleFactor } = state;\n\n          const mouseX = e.pageX - ref.current.parentElement.offsetLeft;\n          const mouseY = e.pageY - ref.current.parentElement.offsetTop;\n\n          const mousePointTo = {\n            x: mouseX / scale - x / scale,\n            y: mouseY / scale - y / scale,\n          };\n\n          const newScale =\n            e.deltaY > 0 ? scale * scaleFactor : scale / scaleFactor;\n\n          const newPosition = {\n            x: -(mousePointTo.x - mouseX / newScale) * newScale,\n            y: -(mousePointTo.y - mouseY / newScale) * newScale,\n          };\n\n          setState({\n            ...state,\n            x: newPosition.x,\n            y: newPosition.y,\n            scale: newScale,\n          });\n        }\n      });\n    },\n    [state]\n  );\n\n  const addEventListeners = useCallback(() => {\n    if (ref.current) {\n      ref.current.addEventListener(\"wheel\", onMouseWheel);\n      ref.current.addEventListener(\"mousedown\", onMouseDown);\n      ref.current.addEventListener(\"mousemove\", onMouseMove);\n      ref.current.addEventListener(\"mouseup\", onMouseUp);\n    }\n  }, [onMouseDown, onMouseMove, onMouseUp, onMouseWheel]);\n\n  const removeEventListeners = useCallback(() => {\n    if (ref.current) {\n      ref.current.removeEventListener(\"wheel\", onMouseWheel);\n      ref.current.removeEventListener(\"mousedown\", onMouseDown);\n      ref.current.removeEventListener(\"mousemove\", onMouseMove);\n      ref.current.removeEventListener(\"mouseup\", onMouseUp);\n    }\n  }, [onMouseDown, onMouseMove, onMouseUp, onMouseWheel]);\n\n  const setZoomRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      if (el) {\n        ref.current = el;\n        addEventListeners();\n      }\n    },\n    [addEventListeners]\n  );\n\n  useEffect(() => {\n    return function cleanup() {\n      removeEventListeners();\n    };\n  }, [removeEventListeners]);\n\n  return { setZoomRef, zoom, pan, fitToContainer, ...state };\n}\n\nexport default useZoomAndPan;\n","import styled from 'styled-components';\n\nexport const CanvasContainer = styled.div`\n    width: 100%;\n    flex: 1;\n`;","import React, { FunctionComponent, useCallback, useState } from \"react\";\nimport { Group, Layer, Stage, Rect } from \"react-konva\";\nimport useZoomAndPan from \"../../hooks/useZoomAndPan\";\nimport { useImageProvider } from \"../../providers/ImageProvider\";\nimport { CanvasContainer } from \"./Canvas.styled\";\n\ntype CanvasProps = {\n  width: number;\n  height: number;\n};\n\nconst Canvas: FunctionComponent<CanvasProps> = ({\n  children,\n  width,\n  height,\n}) => {\n  const [containerWidth, setContainerWidth] = useState<number>(0);\n  const [containerHeight, setContainerHeight] = useState<number>(0);\n  const { setStageRef } = useImageProvider();\n  const { scale, x, y, setZoomRef } = useZoomAndPan();\n\n  const handleRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      if (el) {\n        setContainerWidth(el.clientWidth);\n        setContainerHeight(el.clientHeight);\n        setZoomRef(el);\n      }\n    },\n    [setZoomRef]\n  );\n\n  return (\n    <CanvasContainer ref={handleRef}>\n      <Stage height={containerHeight} width={containerWidth} ref={setStageRef}>\n        <Layer>\n          <Group\n            height={height * scale}\n            width={width * scale}\n            scale={{ x: scale, y: scale }}\n            x={x}\n            y={y}\n          >\n            <Rect\n              x={0}\n              y={0}\n              width={width}\n              height={height}\n              fillLinearGradientStartPoint={{ x: 0, y: height / 2 }}\n              fillLinearGradientEndPoint={{ x: width, y: height / 2 }}\n              fillLinearGradientColorStops={[0, \"#1D2951\", 1, \"#000000\"]}\n            />\n            {children}\n          </Group>\n        </Layer>\n      </Stage>\n    </CanvasContainer>\n  );\n};\n\nexport default Canvas;\n","import styled from 'styled-components';\nimport { Layout } from \"antd\";\n\nexport const OpenCVPlaygroundWrapper = styled(Layout)`\n    height: 100%;\n`;\n\nexport const OpenCVPlaygroundContent = styled(Layout.Content)`\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    position: relative;\n`;\n\nexport const OpenCVPlaygroundUpload = styled.div`\n    padding: 32px;\n`;","import styled from 'styled-components';\nimport { Layout } from \"antd\";\n\nconst { Sider } = Layout;\n\nexport const SidebarContainer = styled(Sider)`\n    padding: 32px 32px;\n`;","import styled from 'styled-components';\n\nexport const ToggleContainer = styled.div`\n    display: flex;\n    align-items: center;\n`;","import React from \"react\";\nimport { Switch, Form } from \"antd\";\nimport { OpenCvPlaygroundToggleTool } from \"../OpenCVPlayground.types\";\nimport { ToggleContainer } from \"./Toggle.styled\";\n\ntype ToggleProps = Pick<OpenCvPlaygroundToggleTool, \"initialValue\" | \"name\"> & {\n  value: boolean;\n  onChange: (checked: boolean) => void;\n};\n\nconst Toggle = ({ initialValue, value, onChange, name }: ToggleProps) => {\n  return (\n    <ToggleContainer as={Form.Item} label={name}>\n      <Switch\n        defaultChecked={initialValue}\n        checked={value}\n        onChange={onChange}\n      />\n    </ToggleContainer>\n  );\n};\n\nexport default Toggle;\n","import React, { useState } from \"react\";\nimport debounce from 'lodash/debounce';\nimport { Slider, Form } from \"antd\";\nimport { OpenCvPlaygroundRangeTool } from \"../OpenCVPlayground.types\";\n\ntype RangeProps = Pick<\n  OpenCvPlaygroundRangeTool,\n  \"initialValue\" | \"name\" | \"min\" | \"max\"\n> & {\n  value: number;\n  onChange: (value: number) => void;\n};\n\nconst Range = ({\n  name,\n  initialValue,\n  onChange,\n  min,\n  max,\n}: RangeProps) => {\n  const [internalValue, setInternalValue] = useState<number>(initialValue);\n  return (\n    <Form.Item label={`${name} (${internalValue}/${max})`} labelCol={{ span: 24 }}>\n      <Slider\n        defaultValue={initialValue}\n        value={internalValue}\n        onChange={setInternalValue}\n        onAfterChange={debounce(onChange, 500)}\n        min={min}\n        max={max}\n      />\n    </Form.Item>\n  );\n};\n\nexport default Range;\n","import React, { FunctionComponent } from \"react\";\nimport { SidebarContainer } from \"./Sidebar.styled\";\nimport { OpenCvPlaygroundTools } from \"../OpenCVPlayground.types\";\nimport Toggle from \"../Toggle\";\nimport Range from \"../Range\";\n\ntype SideBarProps = {\n  onToolChange: (key: string, value: any) => void;\n  tools: OpenCvPlaygroundTools[];\n  values: Record<string, any>;\n};\n\nconst Sidebar: FunctionComponent<SideBarProps> = ({\n  tools,\n  onToolChange,\n  values,\n}) => {\n  return (\n    <SidebarContainer width={300} theme=\"light\">\n      {tools.map((tool) => {\n        if (tool.type === \"toggle\") {\n          return (\n            <Toggle\n              key={tool.key}\n              initialValue={tool.initialValue}\n              onChange={(value) => onToolChange(tool.key, value)}\n              value={values[tool.key]}\n              name={tool.name}\n            />\n          );\n        }\n        if (tool.type === \"range\") {\n          return (\n            <Range\n              key={tool.key}\n              initialValue={tool.initialValue}\n              onChange={(value) => onToolChange(tool.key, value)}\n              value={values[tool.key]}\n              name={tool.name}\n              max={tool.max}\n              min={tool.min}\n            />\n          );\n        }\n        return null;\n      })}\n    </SidebarContainer>\n  );\n};\n\nexport default Sidebar;\n","import styled from 'styled-components';\n\nexport const SpinnerContainer = styled.div`\n    position: absolute;\n    z-index: 2;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n    background: #f0f2f5;\n`;\n","import React from \"react\";\nimport { Spin, Typography } from \"antd\";\nimport { SpinnerContainer } from \"./Spinner.styled\";\n\nconst Spinner = () => {\n  return (\n    <SpinnerContainer>\n      <Spin size=\"large\" />\n      <Typography.Text>\n          Generating your image..\n      </Typography.Text>\n    </SpinnerContainer>\n  );\n};\n\nexport default Spinner;\n","import React, {\n  FunctionComponent,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport { Upload, message, Button } from \"antd\";\nimport { UploadChangeParam } from \"antd/lib/upload\";\nimport { UploadFile } from \"antd/lib/upload/interface\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { useImageProvider } from \"../../providers/ImageProvider\";\nimport Canvas from \"../Canvas\";\nimport {\n  OpenCVPlaygroundContent,\n  OpenCVPlaygroundUpload,\n  OpenCVPlaygroundWrapper,\n} from \"./OpenCVPlayground.styled\";\nimport { OpenCvPlaygroundProps } from \"./OpenCVPlayground.types\";\nimport Sidebar from \"./Sidebar\";\nimport Spinner from \"./Spinner\";\n\nfunction getBase64(\n  img: File,\n  callback: (result: string | ArrayBuffer | null) => void\n) {\n  const reader = new FileReader();\n  reader.addEventListener(\"load\", () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n\nconst OpenCVPlayground: FunctionComponent<OpenCvPlaygroundProps> = ({\n  tools,\n  createImage,\n}) => {\n  const { setURI, setDimensions, width, height, uri } = useImageProvider();\n  const [loading, setLoading] = useState<boolean>(false);\n  const [toolState, setToolState] = useState<Record<string, unknown>>({});\n  const [components, setComponents] = useState<React.ReactNode>(null);\n\n  const handleToolChange = useCallback(\n    (key: string, value: any) => {\n      setToolState({\n        ...toolState,\n        [key]: value,\n      });\n    },\n    [toolState]\n  );\n\n  const updateImage = useCallback(\n    (url: string) => {\n      setLoading(true);\n      createImage({\n        ...toolState,\n        url,\n      })\n        .then(({ width, height, image }) => {\n          setDimensions({ width, height });\n          setComponents(image);\n          setLoading(false);\n        })\n        .catch(() => {\n          message.error(\"There was an error creating your image\");\n          setLoading(false);\n        });\n    },\n    [createImage, setDimensions, toolState]\n  );\n\n  const handleUpload = (info: UploadChangeParam<UploadFile<any>>) => {\n    if (info.file.originFileObj instanceof File) {\n      getBase64(info.file.originFileObj, (url) => {\n        if (typeof url === \"string\") {\n          setURI(url);\n        } else {\n          message.error(\"You can only upload images.\");\n        }\n      });\n    } else {\n      message.error(\"You can only upload images.\");\n    }\n  };\n\n  useEffect(() => {\n    if (uri) updateImage(uri);\n  }, [uri, toolState, updateImage]);\n\n  return (\n    <OpenCVPlaygroundWrapper>\n      <Sidebar\n        tools={tools}\n        onToolChange={handleToolChange}\n        values={toolState}\n      />\n      <OpenCVPlaygroundContent>\n        {!uri ? (\n          <OpenCVPlaygroundUpload>\n            <Upload accept=\"image/*\" onChange={handleUpload}>\n              <Button icon={<UploadOutlined />}>\n                Click to Upload an Image\n              </Button>\n            </Upload>\n          </OpenCVPlaygroundUpload>\n        ) : (\n          <Canvas width={width} height={height}>\n            {components}\n          </Canvas>\n        )}\n        {loading && <Spinner />}\n      </OpenCVPlaygroundContent>\n    </OpenCVPlaygroundWrapper>\n  );\n};\n\nexport default OpenCVPlayground;\n","import React, { useCallback } from \"react\";\nimport { Line } from \"react-konva\";\nimport { AppContainer } from \"./App.styled\";\nimport GlobalStyles from \"./components/GlobalStyles\";\nimport useCannyEdges from \"./hooks/useCannyEdges\";\nimport randomInteger from \"./utils/randomInteger\";\nimport Header from \"./features/Header\";\nimport OpenCVPlayground from \"./components/OpenCVPlayground\";\n\nfunction App() {\n  const getCannyEdges = useCannyEdges();\n\n  const createImage = useCallback(\n    async ({ url, ...rest }: { url: string } & Record<string, any>) => {\n      const { points: lines, width, height } = await getCannyEdges({\n        url,\n        minThreshold: 50,\n        maxThreshold: 100,\n        useL2Gradient: true,\n        useRigidLines: true,\n        ...rest\n      });\n      const temp_components = [];\n\n      for (let i = 0; i < lines.length; ++i) {\n        const points = lines[i];\n\n        const red = randomInteger(0, 255);\n        const green = randomInteger(0, 255);\n        const blue = randomInteger(0, 255);\n        const stroke = `rgb(${red}, ${green}, ${blue})`;\n\n        temp_components.push(\n          <Line key={i} points={points} stroke={stroke} strokeWidth={2} />\n        );\n      }\n      return { width, height, image: temp_components };\n    },\n    [getCannyEdges]\n  );\n\n  return (\n    <AppContainer>\n      <GlobalStyles />\n      <Header />\n      <OpenCVPlayground\n        tools={[\n          {\n            name: \"Min Threshold\",\n            type: \"range\",\n            key: \"minThreshold\",\n            initialValue: 50,\n            min: 0, \n            max: 100\n          },\n          {\n            name: \"Max Threshold\",\n            type: \"range\",\n            key: \"maxThreshold\",\n            initialValue: 100,\n            min: 0, \n            max: 200\n          },\n          {\n            name: \"Use L2 Gradient\",\n            type: \"toggle\",\n            key: \"useL2Gradient\",\n            initialValue: true,\n          },\n          {\n            name: \"Use Rigid Lines\",\n            type: \"toggle\",\n            key: \"useRigidLines\",\n            initialValue: true,\n          },\n        ]}\n        createImage={createImage}\n      />\n    </AppContainer>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport ImageProvider from './providers/ImageProvider';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ImageProvider>\n      <App />\n    </ImageProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}